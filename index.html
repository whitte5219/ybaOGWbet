<!DOCTYPE html>
<html>
<head>
  <title>Roblox Verification</title>
  <style>
    body { font-family: Arial; padding: 20px; }
    input { padding: 6px; font-size: 16px; }
    button { padding: 8px 12px; font-size: 16px; margin-top: 10px; cursor: pointer; }
    #status { margin-top: 20px; font-size: 18px; }
  </style>
</head>
<body>

<h1>Roblox Verification</h1>
<p>Enter your Roblox User ID:</p>

<input id="userid" placeholder="Roblox User ID">
<button onclick="startVerification()">Verify</button>

<p id="status"></p>

<script>
let verifyCode = null;

function startVerification() {
    const userId = document.getElementById("userid").value.trim();
    if (!userId) return alert("Enter a User ID!");

    verifyCode = "RBLX-" + Math.floor(10000 + Math.random() * 90000);

    document.getElementById("status").innerHTML = `
        Your verification code is:<br><b>${verifyCode}</b><br><br>
        Put this code inside your Roblox profile description (bio).<br><br>
        After adding it, click:<br><br>
        <button onclick="checkVerification()">Check Verification</button>
    `;
}

async function checkVerification() {
    const userId = document.getElementById("userid").value.trim();
    if (!verifyCode) return alert("Start verification first!");

    document.getElementById("status").innerText = "Fetching profile...";

    // Fetch raw profile HTML through proxy
    const url = `https://corsproxy.io/?https://www.roblox.com/users/${userId}/profile`;

    const response = await fetch(url);
    const html = await response.text();

    // Extract username
    const usernameMatch = html.match(/profile-name\">([^<]+)</);
    const username = usernameMatch ? usernameMatch[1] : "Unknown";

    // Extract bio
    const bioMatch = html.match(/<span class=\"profile-about-content-text linkify\"[^>]*>([\s\S]*?)<\/span>/);
    const bio = bioMatch ? bioMatch[1].trim() : "";

    if (bio.includes(verifyCode)) {
        // Ask confirmation
        document.getElementById("status").innerHTML = `
            I found this username on the profile:<br><b>${username}</b><br><br>
            Is this you?<br><br>
            <button onclick="confirmUser('${username}', '${userId}')">Yes, verify me</button>
        `;
    } else {
        document.getElementById("status").innerHTML =
            `Code not found in bio.<br><br>
            Make sure your description contains:<br><b>${verifyCode}</b>`;
    }
}

function confirmUser(username, userId) {
    document.getElementById("status").innerHTML = `
        <b>Verification successful!</b><br><br>
        Username: ${username}<br>
        User ID: ${userId}
    `;
}
</script>

</body>
</html>
