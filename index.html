<!DOCTYPE html>
<html>
<head>
  <title>Discord Webhook Verification</title>
  <style>
    body { font-family: Arial; padding: 20px; }
    input { width: 90%; padding: 8px; font-size: 16px; margin-top: 10px; }
    button { padding: 10px 14px; font-size: 16px; margin-top: 10px; cursor: pointer; }
    #status { margin-top: 20px; font-size: 18px; }
  </style>
</head>
<body>

<h1>Discord Webhook Verification</h1>

<p>Enter a Discord Webhook URL:</p>
<input id="webhook" placeholder="https://discord.com/api/webhooks/...">

<button onclick="sendCode()">Send Verification Code</button>

<p id="status"></p>

<script>
let generatedCode = null;

function generateCode() {
  return "DISC-" + Math.floor(10000 + Math.random() * 90000);
}

async function sendCode() {
  const webhook = document.getElementById("webhook").value.trim();
  if (!webhook) return alert("Enter a webhook URL!");

  generatedCode = generateCode();

  // Send message to webhook
  const payload = {
    content: `Your verification code is: **${generatedCode}**`
  };

  document.getElementById("status").innerText = "Sending code...";

  try {
    const res = await fetch(webhook, {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(payload)
    });

    if (res.ok) {
      document.getElementById("status").innerHTML = `
        Code sent! Check your Discord channel.<br><br>
        Enter your verification code:<br>
        <input id="codeInput" placeholder="Enter code"><br>
        <button onclick="verifyCode()">Verify</button>
      `;
    } else {
      document.getElementById("status").innerText =
        "Failed to send message. Check your webhook URL.";
    }
  } catch (e) {
    document.getElementById("status").innerText =
      "Error sending to webhook. Make sure the URL is correct.";
  }
}

function verifyCode() {
  const userCode = document.getElementById("codeInput").value.trim();

  if (userCode === generatedCode) {
    document.getElementById("status").innerHTML =
      `<b>Verification successful!</b>`;
  } else {
    document.getElementById("status").innerHTML =
      `Incorrect code. Check your Discord channel again.`;
  }
}
</script>

</body>
</html>
